# DockBrain Default Configuration

security:
  max_retry_attempts: 3
  task_timeout_ms: 120000
  pairing_token_ttl_minutes: 60
  rate_limit_per_minute: 10
  auto_grant_first_user_admin: true

  # Allowed domains for web_sandbox tool
  web_allowed_domains:
    - "wikipedia.org"
    - "github.com"
    - "stackoverflow.com"

  # Blocked IP ranges (private networks)
  web_blocked_ip_ranges:
    - "127.0.0.0/8"
    - "10.0.0.0/8"
    - "172.16.0.0/12"
    - "192.168.0.0/16"
    - "169.254.0.0/16"
    - "::1/128"
    - "fc00::/7"

llm:
  provider: "openai"
  model: "gpt-4o-mini"
  temperature: 0.1
  max_tokens: 2000
  timeout_ms: 30000

api:
  host: "127.0.0.1"
  port: 3000

telegram:
  polling_timeout: 30
  max_concurrent_tasks: 5

hooks:
  enabled: false
  token: "CHANGE_ME"
  gmail:
    enabled: false
    rules: []

tools:
  files_readonly:
    enabled: true
    max_file_size_mb: 10
    allowed_extensions:
      - ".txt"
      - ".md"
      - ".json"
      - ".yaml"
      - ".yml"
      - ".csv"
      - ".log"

  files_write:
    enabled: true
    max_file_size_mb: 10
    backup_enabled: true
    backup_dir_name: ".backups"

  reminders:
    enabled: true
    max_reminders_per_user: 50

  web_sandbox:
    enabled: true
    timeout_ms: 5000
    max_response_size_mb: 5

  system_info:
    enabled: true

  email:
    enabled: false

  gmail:
    enabled: false

  network_tools:
    enabled: true
    allowed_ssh_hosts: [] # Empty = block all SSH targets by default
    ssh_timeout_ms: 10000

  browser:
    enabled: true
    allowed_domains:
      - "*"
    max_timeout_ms: 30000
    screenshot_dir: "./data/screenshots"

  codex_auth:
    enabled: false
    cli_path: "codex"
    codex_home: ""
    login_timeout_ms: 60000

  system_exec:
    enabled: true
    allowed_commands:
      - "ls"
      - "pwd"
      - "cat"
      - "grep"
      - "find"
      - "mkdir"
      - "touch"
      - "date"
      - "uptime"
      - "whoami"
      - "uname"
      - "hostname"
      - "df"
      - "free"
      - "ip"
      - "ifconfig"
    blocked_commands:
      - "sudo"
      - "bash"
      - "sh"
      - "zsh"
    allowed_systemctl_actions:
      - "status"
      - "start"
      - "stop"
      - "restart"
    allowed_systemctl_units:
      - "dockbrain.service"
    allowed_ufw_actions:
      - "status"
      - "enable"
      - "disable"
      - "allow"
      - "deny"
      - "delete"
      - "reload"
    max_output_bytes: 20000
    default_timeout_ms: 15000
    allowed_working_dirs: []

  memory:
    enabled: true
    data_dir: "./data/memory"
    include_in_prompt: true
    max_entries: 10
    auto_append_user: true
    auto_append_assistant: true

  sessions:
    enabled: true
    data_dir: "./data/sessions"
